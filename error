for delay_sec, code in zip(trigger_times_sec, trigger_codes):
    wait_time = delay_sec - trialClock.getTime()
    if wait_time > 0:
        core.wait(wait_time)
    
    expected_ms = delay_sec * 1000
    send_trigger(code)
    actual_ms = trialClock.getTime() * 1000
    deviation_ms = actual_ms - expected_ms

    print(f"Trigger {code} | Expected: {expected_ms:.2f} ms | Actual: {actual_ms:.2f} ms | Î” = {deviation_ms:.2f} ms")

    thisExp.addData(f'trigger_{code}_expected_ms', expected_ms)
    thisExp.addData(f'trigger_{code}_actual_ms', actual_ms)
    thisExp.addData(f'trigger_{code}_deviation_ms', deviation_ms)
