from psychopy.hardware import joystick
from psychopy import core

# Initialize joystick
joystick.backend = 'pyglet'  # or 'pygame' if pyglet doesn't work
nJoysticks = joystick.getNumJoysticks()
if nJoysticks < 1:
    print("No joystick detected.")
    core.quit()

joy = joystick.Joystick(0)
print("Joystick connected:", joy.getName())

prevButtonState = joy.getButton(1)  # Check button index 1 (change this if needed)

print("Press button 1 (maybe B button on F310)...")

# Start loop
while True:
    currentButtonState = joy.getButton(1)

    if currentButtonState != prevButtonState:
        prevButtonState = currentButtonState

        if currentButtonState:  # Button just got pressed
            print("ðŸŽ® Button 1 pressed!")

    core.wait(0.05)


from psychopy.hardware import joystick
from psychopy import core

joystick.backend = 'pyglet'
joy = joystick.Joystick(0)

print("Press LB or RB...")

prevLB = joy.getButton(4)
prevRB = joy.getButton(5)

while True:
    lb = joy.getButton(4)
    rb = joy.getButton(5)

    if lb != prevLB:
        prevLB = lb
        if lb:
            print("ðŸ‘ˆ LB pressed")

    if rb != prevRB:
        prevRB = rb
        if rb:
            print("ðŸ‘‰ RB pressed")

    core.wait(0.05)
